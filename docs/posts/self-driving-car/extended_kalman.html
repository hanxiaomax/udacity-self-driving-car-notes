<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>智能驾驶学习笔记 | 扩展卡尔曼滤波器</title>
    <meta name="description" content="by Lingfeng Ai">
    <link rel="icon" href="/udacity-self-driving-car-notes/logo.png">
  <link rel="manifest" href="/udacity-self-driving-car-notes/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/udacity-self-driving-car-notes/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/udacity-self-driving-car-notes/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/udacity-self-driving-car-notes/assets/css/40.styles.8bccc68c.css" as="style"><link rel="preload" href="/udacity-self-driving-car-notes/assets/js/app.f862d195.js" as="script"><link rel="preload" href="/udacity-self-driving-car-notes/assets/js/11.8b31e96d.js" as="script"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/0.a91770da.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/1.bf802ebd.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/2.9fcb0b63.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/3.04252e9b.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/4.58f7cc53.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/5.fbc900e9.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/6.eb545374.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/7.9389e4d4.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/8.ca6e42ad.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/9.951d4fff.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/10.6dceeebb.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/12.47bd8573.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/13.01fa8388.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/14.5145a23d.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/15.a6c9c7ea.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/16.c8a59787.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/17.ef253f55.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/18.60236610.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/19.21a7c6ad.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/20.631b7e3b.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/21.4ea4e658.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/22.24b95f64.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/23.20d37bd2.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/24.16e76604.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/25.ded15832.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/26.698b1477.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/27.dd2fff6b.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/28.60a3bb90.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/29.32a5d2dc.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/30.e686195c.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/31.182bda29.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/32.72fbf8ad.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/33.1b4a0149.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/34.12748df4.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/35.4a1138f6.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/36.9e421a98.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/37.803fd82e.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/38.0a53c283.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/39.aab83370.js">
    <link rel="stylesheet" href="/udacity-self-driving-car-notes/assets/css/40.styles.8bccc68c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/udacity-self-driving-car-notes/" class="home-link router-link-active"><!----><span class="site-name">
      智能驾驶学习笔记
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/udacity-self-driving-car-notes/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">笔记</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/intro-self-driving-car/" class="nav-link">无人驾驶入门</a></li><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/self-driving-car/" class="nav-link router-link-active">无人驾驶工程师</a></li><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/others/" class="nav-link">未归类</a></li></ul></div></div><div class="nav-item"><a href="/udacity-self-driving-car-notes/res/" class="nav-link">资源</a></div><div class="nav-item"><a href="/udacity-self-driving-car-notes/contact/" class="nav-link">联系</a></div><a href="https://github.com/hanxiaomax/udacity-self-driving-car-notes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/udacity-self-driving-car-notes/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">笔记</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/intro-self-driving-car/" class="nav-link">无人驾驶入门</a></li><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/self-driving-car/" class="nav-link router-link-active">无人驾驶工程师</a></li><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/others/" class="nav-link">未归类</a></li></ul></div></div><div class="nav-item"><a href="/udacity-self-driving-car-notes/res/" class="nav-link">资源</a></div><div class="nav-item"><a href="/udacity-self-driving-car-notes/contact/" class="nav-link">联系</a></div><a href="https://github.com/hanxiaomax/udacity-self-driving-car-notes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>1. 计算机视觉基础</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2. 计算机视觉进阶</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>3. 深度学习</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>4. tersorflow</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>5. 卷积神经网络</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>6. 基于LeNet的信号灯分类</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>7. Keras</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>8. 迁移学习</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>9. 卡尔曼滤波</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/udacity-self-driving-car-notes/posts/self-driving-car/kalman.html" class="sidebar-link">卡尔曼滤波</a></li><li><a href="/udacity-self-driving-car-notes/posts/self-driving-car/kalman-topic.html" class="sidebar-link">卡尔曼滤波-理论专题</a></li><li><a href="/udacity-self-driving-car-notes/posts/self-driving-car/extended_kalman.html" class="active sidebar-link">扩展卡尔曼滤波器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/extended_kalman.html#预测" class="sidebar-link">预测</a></li><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/extended_kalman.html#kalman-filter-equations-in-c" class="sidebar-link">Kalman Filter Equations in C++</a></li><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/extended_kalman.html#状态估计" class="sidebar-link">状态估计</a></li><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/extended_kalman.html#测量协方差矩阵" class="sidebar-link">测量协方差矩阵</a></li><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/extended_kalman.html#激光雷达测量" class="sidebar-link">激光雷达测量</a></li></ul></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="扩展卡尔曼滤波器"><a href="#扩展卡尔曼滤波器" aria-hidden="true" class="header-anchor">#</a> 扩展卡尔曼滤波器</h1><p><img src="/udacity-self-driving-car-notes/assets/img/15398755730888.33f1f4c4.jpg" alt></p><p>卡尔曼滤波算法包括以下几个步骤：</p><ol><li>首次测量 - 滤波器首先会得到自行车相对于汽车位置的初始测量值，该数据来自雷达或激光雷达。</li><li>初始化状态空间或者协方差矩阵</li><li>t事件后，收到另外一次测量数据</li><li>预测 - 算法首先预测t时间后自行车的位置。通常会假定自行车速度为常量，x=vt进行计算</li><li>更新 - 滤波器将预测值和传感器的测量值进行比较。基于预测值和测量值共同给出更新后的位置。根据预测值和测量值的不确定性，给二者不同的权重。</li><li>随后，再次收到测量数据，进行下一次的预测和更新循环</li></ol><h2 id="预测"><a href="#预测" aria-hidden="true" class="header-anchor">#</a> 预测</h2><p><img src="/udacity-self-driving-car-notes/assets/img/15398763566340.ff410a3b.jpg" alt></p><p>如果两个传感器的数据同时到达，则使用一个进行预测，另外一个进行测量更新</p><p><img src="/udacity-self-driving-car-notes/assets/img/15398765749460.117b85df.jpg" alt></p><h2 id="kalman-filter-equations-in-c"><a href="#kalman-filter-equations-in-c" aria-hidden="true" class="header-anchor">#</a> Kalman Filter Equations in C++</h2><p><img src="/udacity-self-driving-car-notes/assets/img/15405648926759.400e764b.jpg" alt></p><pre class="language-cpp"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;Dense&quot;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> Eigen<span class="token punctuation">;</span>

<span class="token comment">//Kalman Filter variables</span>
VectorXd x<span class="token punctuation">;</span>	<span class="token comment">// 状态向量</span>
MatrixXd P<span class="token punctuation">;</span>	<span class="token comment">// 协方差矩阵</span>
VectorXd u<span class="token punctuation">;</span>	<span class="token comment">// 运动控制向量</span>
MatrixXd F<span class="token punctuation">;</span>     <span class="token comment">// 状态转移矩阵</span>
MatrixXd H<span class="token punctuation">;</span>	<span class="token comment">// 测量矩阵</span>
MatrixXd R<span class="token punctuation">;</span>	<span class="token comment">// 测量协方差矩阵</span>
MatrixXd I<span class="token punctuation">;</span> 
MatrixXd Q<span class="token punctuation">;</span>	<span class="token comment">// 处理协方差矩阵</span>

vector<span class="token operator">&lt;</span>VectorXd<span class="token operator">&gt;</span> measurements<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">filter</span><span class="token punctuation">(</span>VectorXd <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> MatrixXd <span class="token operator">&amp;</span>P<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 变量初始化</span>
	x <span class="token operator">=</span> <span class="token function">VectorXd</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	x <span class="token operator">&lt;&lt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">;</span>

	P <span class="token operator">=</span> <span class="token function">MatrixXd</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	P <span class="token operator">&lt;&lt;</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">;</span>

	u <span class="token operator">=</span> <span class="token function">VectorXd</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	u <span class="token operator">&lt;&lt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">;</span>

	F <span class="token operator">=</span> <span class="token function">MatrixXd</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	F <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">;</span>

	H <span class="token operator">=</span> <span class="token function">MatrixXd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	H <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">;</span>

	R <span class="token operator">=</span> <span class="token function">MatrixXd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	R <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>

	I <span class="token operator">=</span> MatrixXd<span class="token operator">::</span><span class="token function">Identity</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	Q <span class="token operator">=</span> <span class="token function">MatrixXd</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Q <span class="token operator">&lt;&lt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token comment">// 构造一组测量值</span>
	VectorXd <span class="token function">single_meas</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	single_meas <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
	measurements<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>single_meas<span class="token punctuation">)</span><span class="token punctuation">;</span>
	single_meas <span class="token operator">&lt;&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
	measurements<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>single_meas<span class="token punctuation">)</span><span class="token punctuation">;</span>
	single_meas <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span>
	measurements<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>single_meas<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//卡尔曼滤波</span>
	<span class="token function">filter</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> P<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token comment">// 卡尔曼滤波器</span>
<span class="token comment">// 输入测量值向量，协方差矩阵</span>
<span class="token keyword">void</span> <span class="token function">filter</span><span class="token punctuation">(</span>VectorXd <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> MatrixXd <span class="token operator">&amp;</span>P<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> measurements<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>

		VectorXd z <span class="token operator">=</span> measurements<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token comment">/*
		 * KF Measurement update step
		 */</span>
		VectorXd y <span class="token operator">=</span> z <span class="token operator">-</span> H <span class="token operator">*</span> x<span class="token punctuation">;</span>  <span class="token comment">//测量值更新（测量值-当前预测值）</span>
		MatrixXd Ht <span class="token operator">=</span> H<span class="token punctuation">.</span><span class="token function">transpose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		MatrixXd S <span class="token operator">=</span> H <span class="token operator">*</span> P <span class="token operator">*</span> Ht <span class="token operator">+</span> R<span class="token punctuation">;</span><span class="token comment">//估计误差+测量误差</span>
		MatrixXd Si <span class="token operator">=</span> S<span class="token punctuation">.</span><span class="token function">inverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		MatrixXd K <span class="token operator">=</span>  P <span class="token operator">*</span> Ht <span class="token operator">*</span> Si<span class="token punctuation">;</span><span class="token comment">//卡尔曼增益</span>

		<span class="token comment">//new state</span>
		x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token punctuation">(</span>K <span class="token operator">*</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 卡尔曼增益作为权重结合测量值计算新状态</span>
		P <span class="token operator">=</span> <span class="token punctuation">(</span>I <span class="token operator">-</span> K <span class="token operator">*</span> H<span class="token punctuation">)</span> <span class="token operator">*</span> P<span class="token punctuation">;</span>

		<span class="token comment">/*
		 * KF Prediction step
		 */</span>
		x <span class="token operator">=</span> F <span class="token operator">*</span> x <span class="token operator">+</span> u<span class="token punctuation">;</span> <span class="token comment">// 新状态预测</span>
		MatrixXd Ft <span class="token operator">=</span> F<span class="token punctuation">.</span><span class="token function">transpose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		P <span class="token operator">=</span> F <span class="token operator">*</span> P <span class="token operator">*</span> Ft <span class="token operator">+</span> Q<span class="token punctuation">;</span> <span class="token comment">//新协方差矩阵预测</span>

		std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;x=&quot;</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl <span class="token operator">&lt;&lt;</span>  x <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
		std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;P=&quot;</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl <span class="token operator">&lt;&lt;</span>  P <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre class="language-text"><code>x=
0.999001
       0
P=
1001 1000
1000 1000
x=
   2.998
0.999002
P=
4.99002 2.99302
2.99302 1.99501
x=
3.99967
      1
P=
 2.33189 0.999168
0.999168 0.499501
</code></pre><h2 id="状态估计"><a href="#状态估计" aria-hidden="true" class="header-anchor">#</a> 状态估计</h2><p><img src="/udacity-self-driving-car-notes/assets/img/15405676189107.fbd448cc.jpg" alt></p><h2 id="测量协方差矩阵"><a href="#测量协方差矩阵" aria-hidden="true" class="header-anchor">#</a> 测量协方差矩阵</h2><p><img src="/udacity-self-driving-car-notes/assets/img/15405677944677.1cee50a4.jpg" alt><img src="/udacity-self-driving-car-notes/assets/img/15405678115450.9a33ddfb.jpg" alt></p><p>我们假定观测目标的速度在我们观察的时间内是恒定的，但是实际上并不是而且我们无法得知加速度大小，所以我们将加速度产生的位移作为误差添加到方程中。</p><p><img src="/udacity-self-driving-car-notes/assets/img/15405680766330.ff796940.jpg" alt>
其中，误差v表示如下：
<img src="/udacity-self-driving-car-notes/assets/img/15405681034636.84fe1f3f.jpg" alt></p><p>我们用正态分布来表示它，即$ \nu \sim N(0,Q)$，该误差符合正态分布切均值为0，协方差为Q。</p><p>进而我们可以将加速度分离出来
<img src="/udacity-self-driving-car-notes/assets/img/15405682895450.17b2847e.jpg" alt></p><p>协方差Q表示为：
$Q = E[\nu \nu^T] = E[Gaa^TG^T] $
<img src="/udacity-self-driving-car-notes/assets/img/15405684782957.910d9c31.jpg" alt></p><ul><li>the expectation of ax times ax, which is the variance of ax:$\sigma_{ax}^2$</li><li>the expectation of ay times ay, which is the variance of ay: $\sigma_{ay}^2σ $</li><li>and the expectation of ax times ay, which is the covariance of $ax$ and $ay$: $\sigma_{axy}$
​
​如果我们加上x，y两个方向上的加速度不相关，则Q变换为：
​<img src="/udacity-self-driving-car-notes/assets/img/15405687875273.1c97cfb9.jpg" alt><img src="/udacity-self-driving-car-notes/assets/img/15405688070629.4ad0b728.jpg" alt></li></ul><h2 id="激光雷达测量"><a href="#激光雷达测量" aria-hidden="true" class="header-anchor">#</a> 激光雷达测量</h2><p><img src="/udacity-self-driving-car-notes/assets/img/15405689960727.12dd6c76.jpg" alt>
激光雷达采集到点云，检测物体并得到物体的位置，而没有速度信息。因此我们的测量值Z是一个二维向量:
<img src="/udacity-self-driving-car-notes/assets/img/15405691182520.a59b5f76.jpg" alt></p><p>则y=Z-H*x中H为：
<img src="/udacity-self-driving-car-notes/assets/img/15405692063283.a090919b.jpg" alt></p><p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBARXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAABOKADAAQAAAABAAAAZQAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/+IH6ElDQ19QUk9GSUxFAAEBAAAH2GFwcGwCIAAAbW50clJHQiBYWVogB9kAAgAZAAsAGgALYWNzcEFQUEwAAAAAYXBwbAAAAAAAAAAAAAAAAAAAAAAAAPbWAAEAAAAA0y1hcHBsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALZGVzYwAAAQgAAABvZHNjbQAAAXgAAAWcY3BydAAABxQAAAA4d3RwdAAAB0wAAAAUclhZWgAAB2AAAAAUZ1hZWgAAB3QAAAAUYlhZWgAAB4gAAAAUclRSQwAAB5wAAAAOY2hhZAAAB6wAAAAsYlRSQwAAB5wAAAAOZ1RSQwAAB5wAAAAOZGVzYwAAAAAAAAAUR2VuZXJpYyBSR0IgUHJvZmlsZQAAAAAAAAAAAAAAFEdlbmVyaWMgUkdCIFByb2ZpbGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG1sdWMAAAAAAAAAHwAAAAxza1NLAAAAKAAAAYRkYURLAAAALgAAAaxjYUVTAAAAJAAAAdp2aVZOAAAAJAAAAf5wdEJSAAAAJgAAAiJ1a1VBAAAAKgAAAkhmckZVAAAAKAAAAnJodUhVAAAAKAAAApp6aFRXAAAAFgAAAsJuYk5PAAAAJgAAAthjc0NaAAAAIgAAAv5oZUlMAAAAHgAAAyBpdElUAAAAKAAAAz5yb1JPAAAAJAAAA2ZkZURFAAAALAAAA4prb0tSAAAAFgAAA7ZzdlNFAAAAJgAAAth6aENOAAAAFgAAA8xqYUpQAAAAGgAAA+JlbEdSAAAAIgAAA/xwdFBPAAAAJgAABB5ubE5MAAAAKAAABERlc0VTAAAAJgAABB50aFRIAAAAJAAABGx0clRSAAAAIgAABJBmaUZJAAAAKAAABLJockhSAAAAKAAABNpwbFBMAAAALAAABQJydVJVAAAAIgAABS5hckVHAAAAJgAABVBlblVTAAAAJgAABXYAVgFhAGUAbwBiAGUAYwBuAP0AIABSAEcAQgAgAHAAcgBvAGYAaQBsAEcAZQBuAGUAcgBlAGwAIABSAEcAQgAtAGIAZQBzAGsAcgBpAHYAZQBsAHMAZQBQAGUAcgBmAGkAbAAgAFIARwBCACAAZwBlAG4A6AByAGkAYwBDHqUAdQAgAGgA7ABuAGgAIABSAEcAQgAgAEMAaAB1AG4AZwBQAGUAcgBmAGkAbAAgAFIARwBCACAARwBlAG4A6QByAGkAYwBvBBcEMAQzBDAEOwRMBD0EOAQ5ACAEPwRABD4ERAQwBDkEOwAgAFIARwBCAFAAcgBvAGYAaQBsACAAZwDpAG4A6QByAGkAcQB1AGUAIABSAFYAQgDBAGwAdABhAGwA4QBuAG8AcwAgAFIARwBCACAAcAByAG8AZgBpAGyQGnUoACAAUgBHAEIAIIJyX2ljz4/wAEcAZQBuAGUAcgBpAHMAawAgAFIARwBCAC0AcAByAG8AZgBpAGwATwBiAGUAYwBuAP0AIABSAEcAQgAgAHAAcgBvAGYAaQBsBeQF6AXVBeQF2QXcACAAUgBHAEIAIAXbBdwF3AXZAFAAcgBvAGYAaQBsAG8AIABSAEcAQgAgAGcAZQBuAGUAcgBpAGMAbwBQAHIAbwBmAGkAbAAgAFIARwBCACAAZwBlAG4AZQByAGkAYwBBAGwAbABnAGUAbQBlAGkAbgBlAHMAIABSAEcAQgAtAFAAcgBvAGYAaQBsx3y8GAAgAFIARwBCACDVBLhc0wzHfGZukBoAIABSAEcAQgAgY8+P8GWHTvZOAIIsACAAUgBHAEIAIDDXMO0w1TChMKQw6wOTA7UDvQO5A7oDzAAgA8ADwQO/A8YDrwO7ACAAUgBHAEIAUABlAHIAZgBpAGwAIABSAEcAQgAgAGcAZQBuAOkAcgBpAGMAbwBBAGwAZwBlAG0AZQBlAG4AIABSAEcAQgAtAHAAcgBvAGYAaQBlAGwOQg4bDiMORA4fDiUOTAAgAFIARwBCACAOFw4xDkgOJw5EDhsARwBlAG4AZQBsACAAUgBHAEIAIABQAHIAbwBmAGkAbABpAFkAbABlAGkAbgBlAG4AIABSAEcAQgAtAHAAcgBvAGYAaQBpAGwAaQBHAGUAbgBlAHIAaQENAGsAaQAg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" alt></p><p>测量误差R：它表示从激光雷达引入的位置测量误差，一般是传感器本身的属性，由供应商提供。
<img src="/udacity-self-driving-car-notes/assets/img/15405692966365.bf89e6f7.jpg" alt></p></div><div class="content edit-link"><a href="https://github.com/hanxiaomax/udacity-self-driving-car-notes/edit/master/package/posts/self-driving-car/extended_kalman.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/udacity-self-driving-car-notes/posts/self-driving-car/kalman-topic.html" class="prev">
          卡尔曼滤波-理论专题
        </a></span><!----></p></div></div></div></div>
    <script src="/udacity-self-driving-car-notes/assets/js/11.8b31e96d.js" defer></script><script src="/udacity-self-driving-car-notes/assets/js/app.f862d195.js" defer></script>
  </body>
</html>
