<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æ™ºèƒ½é©¾é©¶å­¦ä¹ ç¬”è®° | è½¦é“çº¿æ£€æµ‹</title>
    <meta name="description" content="by Lingfeng Ai">
    <link rel="icon" href="/udacity-self-driving-car-notes/logo.png">
  <link rel="manifest" href="/udacity-self-driving-car-notes/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/udacity-self-driving-car-notes/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/udacity-self-driving-car-notes/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/udacity-self-driving-car-notes/assets/css/40.styles.8bccc68c.css" as="style"><link rel="preload" href="/udacity-self-driving-car-notes/assets/js/app.f862d195.js" as="script"><link rel="preload" href="/udacity-self-driving-car-notes/assets/js/10.6dceeebb.js" as="script"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/0.a91770da.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/1.bf802ebd.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/2.9fcb0b63.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/3.04252e9b.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/4.58f7cc53.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/5.fbc900e9.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/6.eb545374.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/7.9389e4d4.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/8.ca6e42ad.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/9.951d4fff.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/11.8b31e96d.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/12.47bd8573.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/13.01fa8388.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/14.5145a23d.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/15.a6c9c7ea.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/16.c8a59787.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/17.ef253f55.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/18.60236610.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/19.21a7c6ad.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/20.631b7e3b.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/21.4ea4e658.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/22.24b95f64.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/23.20d37bd2.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/24.16e76604.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/25.ded15832.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/26.698b1477.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/27.dd2fff6b.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/28.60a3bb90.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/29.32a5d2dc.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/30.e686195c.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/31.182bda29.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/32.72fbf8ad.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/33.1b4a0149.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/34.12748df4.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/35.4a1138f6.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/36.9e421a98.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/37.803fd82e.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/38.0a53c283.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/39.aab83370.js">
    <link rel="stylesheet" href="/udacity-self-driving-car-notes/assets/css/40.styles.8bccc68c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/udacity-self-driving-car-notes/" class="home-link router-link-active"><!----><span class="site-name">
      æ™ºèƒ½é©¾é©¶å­¦ä¹ ç¬”è®°
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/udacity-self-driving-car-notes/" class="nav-link">ä¸»é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ç¬”è®°</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/intro-self-driving-car/" class="nav-link">æ— äººé©¾é©¶å…¥é—¨</a></li><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/self-driving-car/" class="nav-link router-link-active">æ— äººé©¾é©¶å·¥ç¨‹å¸ˆ</a></li><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/others/" class="nav-link">æœªå½’ç±»</a></li></ul></div></div><div class="nav-item"><a href="/udacity-self-driving-car-notes/res/" class="nav-link">èµ„æº</a></div><div class="nav-item"><a href="/udacity-self-driving-car-notes/contact/" class="nav-link">è”ç³»</a></div><a href="https://github.com/hanxiaomax/udacity-self-driving-car-notes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/udacity-self-driving-car-notes/" class="nav-link">ä¸»é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ç¬”è®°</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/intro-self-driving-car/" class="nav-link">æ— äººé©¾é©¶å…¥é—¨</a></li><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/self-driving-car/" class="nav-link router-link-active">æ— äººé©¾é©¶å·¥ç¨‹å¸ˆ</a></li><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/others/" class="nav-link">æœªå½’ç±»</a></li></ul></div></div><div class="nav-item"><a href="/udacity-self-driving-car-notes/res/" class="nav-link">èµ„æº</a></div><div class="nav-item"><a href="/udacity-self-driving-car-notes/contact/" class="nav-link">è”ç³»</a></div><a href="https://github.com/hanxiaomax/udacity-self-driving-car-notes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>1. è®¡ç®—æœºè§†è§‰åŸºç¡€</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/udacity-self-driving-car-notes/posts/self-driving-car/find-lane-line.html" class="active sidebar-link">è½¦é“çº¿æ£€æµ‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/find-lane-line.html#_1-è½¦é“çº¿æ£€æµ‹å°ç¨‹åº" class="sidebar-link">1.è½¦é“çº¿æ£€æµ‹å°ç¨‹åº</a></li><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/find-lane-line.html#_2-ç›¸å…³åº“å‡½æ•°" class="sidebar-link">2.ç›¸å…³åº“å‡½æ•°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/find-lane-line.html#_1-numpyç›¸å…³å‡½æ•°" class="sidebar-link">1. numpyç›¸å…³å‡½æ•°</a></li><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/find-lane-line.html#_2-matplotlibç›¸å…³å‡½æ•°" class="sidebar-link">2. matplotlibç›¸å…³å‡½æ•°</a></li><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/find-lane-line.html#_3-opencvç›¸å…³å‡½æ•°" class="sidebar-link">3. opencvç›¸å…³å‡½æ•°</a></li></ul></li><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/find-lane-line.html#_3-å›¾åƒçŸ©é˜µåŠmask" class="sidebar-link">3.å›¾åƒçŸ©é˜µåŠmask</a></li><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/find-lane-line.html#_4-éœå¤«å˜æ¢" class="sidebar-link">4. éœå¤«å˜æ¢</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/find-lane-line.html#_1-éœå¤«å˜æ¢" class="sidebar-link">1.éœå¤«å˜æ¢</a></li></ul></li><li class="sidebar-sub-header"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/find-lane-line.html#_5-è¾¹ç¼˜æ£€æµ‹ä¹‹canny" class="sidebar-link">5. è¾¹ç¼˜æ£€æµ‹ä¹‹Canny</a></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2. è®¡ç®—æœºè§†è§‰è¿›é˜¶</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>3. æ·±åº¦å­¦ä¹ </span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>4. tersorflow</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>5. å·ç§¯ç¥ç»ç½‘ç»œ</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>6. åŸºäºLeNetçš„ä¿¡å·ç¯åˆ†ç±»</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>7. Keras</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>8. è¿ç§»å­¦ä¹ </span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>9. å¡å°”æ›¼æ»¤æ³¢</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="è®¡ç®—æœºè§†è§‰åŸºç¡€"><a href="#è®¡ç®—æœºè§†è§‰åŸºç¡€" aria-hidden="true" class="header-anchor">#</a> è®¡ç®—æœºè§†è§‰åŸºç¡€</h1><h2 id="_1-è½¦é“çº¿æ£€æµ‹å°ç¨‹åº"><a href="#_1-è½¦é“çº¿æ£€æµ‹å°ç¨‹åº" aria-hidden="true" class="header-anchor">#</a> 1.è½¦é“çº¿æ£€æµ‹å°ç¨‹åº</h2><ol><li>åˆ©ç”¨é¢œè‰²è¿›è¡Œæ£€æµ‹</li><li>åˆ›å»ºåˆ†å‰²åŒºåŸŸ</li><li>è¾¹ç¼˜æ£€æµ‹</li><li>ç›´çº¿æå–</li></ol><p>ç»¼åˆä»¥ä¸ŠæŠ€æœ¯ï¼Œå°¤å…¶æ˜¯2ï¼Œ3ï¼Œ4ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä¸€äº›æ¯”è¾ƒè§„åˆ™çš„å›¾ç‰‡è¿›è¡Œæ£€æµ‹ï¼Œå¾—åˆ°ä¸€ä¸ªæ¯”è¾ƒä¸é”™çš„è½¦é“çº¿æ£€æµ‹æ•ˆæœ</p><pre class="language-python"><code><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>image <span class="token keyword">as</span> mpimg
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> cv2
fig_size <span class="token operator">=</span> <span class="token number">25</span>
COL <span class="token operator">=</span> <span class="token number">2</span>
<span class="token comment">#ç»˜å›¾</span>
<span class="token keyword">def</span> <span class="token function">draw_imgs</span><span class="token punctuation">(</span>imgs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span>fig_size<span class="token punctuation">,</span>fig_size<span class="token punctuation">)</span><span class="token punctuation">,</span>dpi<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> index<span class="token punctuation">,</span>img <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>imgs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>imgs<span class="token punctuation">)</span><span class="token operator">/</span>COL<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> COL<span class="token punctuation">,</span> index<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token comment">#plt.imshow(img)</span>
        plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        fig<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#å­å›¾ç´§å‡‘æ’ç‰ˆ</span>
        
<span class="token comment">#åœ¨æ¯å¼ å›¾ä¸Šç»˜åˆ¶å¤šè¾¹å½¢</span>
<span class="token keyword">def</span> <span class="token function">draw_poly</span><span class="token punctuation">(</span>vertices<span class="token punctuation">)</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> vertices<span class="token punctuation">:</span>
        <span class="token keyword">for</span> xx<span class="token punctuation">,</span>yy <span class="token keyword">in</span> v<span class="token punctuation">:</span>
            x<span class="token punctuation">.</span>append<span class="token punctuation">(</span>xx<span class="token punctuation">)</span>
            y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>yy<span class="token punctuation">)</span>
    x<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>y<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token string">'b--'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
imgs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment"># Read in and grayscale the image</span>
image <span class="token operator">=</span> mpimg<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'exit.jpg'</span><span class="token punctuation">)</span>
gray <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span>cv2<span class="token punctuation">.</span>COLOR_RGB2GRAY<span class="token punctuation">)</span>

<span class="token comment"># Define a kernel size and apply Gaussian smoothing</span>
<span class="token comment">###### é«˜æ–¯æ¨¡ç³Š #######</span>
kernel_size <span class="token operator">=</span> <span class="token number">5</span>
blur_gray <span class="token operator">=</span> cv2<span class="token punctuation">.</span>GaussianBlur<span class="token punctuation">(</span>gray<span class="token punctuation">,</span><span class="token punctuation">(</span>kernel_size<span class="token punctuation">,</span> kernel_size<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment"># Define our parameters for Canny and apply</span>
<span class="token comment">###### canny è¾¹ç¼˜æ£€æµ‹ #######</span>
low_threshold <span class="token operator">=</span> <span class="token number">50</span>
high_threshold <span class="token operator">=</span> <span class="token number">150</span>
edges <span class="token operator">=</span> cv2<span class="token punctuation">.</span>Canny<span class="token punctuation">(</span>blur_gray<span class="token punctuation">,</span> low_threshold<span class="token punctuation">,</span> high_threshold<span class="token punctuation">)</span>

<span class="token comment"># Next we'll create a masked edges image using cv2.fillPoly()</span>
<span class="token comment"># ä½¿ç”¨zeros_likeæ„é€ ä¸€ä¸ªå’Œedgesä¸€æ ·è§„æ¨¡çš„é›¶çŸ©é˜µ</span>
mask <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros_like<span class="token punctuation">(</span>edges<span class="token punctuation">)</span>   
ignore_mask_color <span class="token operator">=</span> <span class="token number">255</span>   

<span class="token comment"># This time we are defining a four sided polygon to mask</span>
<span class="token comment">###### æ„å»ºå¤šè¾¹å½¢åŒºåŸŸ #######</span>
imshape <span class="token operator">=</span> image<span class="token punctuation">.</span>shape
vertices <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>imshape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">450</span><span class="token punctuation">,</span> <span class="token number">290</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">490</span><span class="token punctuation">,</span> <span class="token number">290</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>imshape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>imshape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>int32<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>fillPoly<span class="token punctuation">(</span>mask<span class="token punctuation">,</span> vertices<span class="token punctuation">,</span> ignore_mask_color<span class="token punctuation">)</span>
masked_edges <span class="token operator">=</span> cv2<span class="token punctuation">.</span>bitwise_and<span class="token punctuation">(</span>edges<span class="token punctuation">,</span> mask<span class="token punctuation">)</span>


<span class="token comment">###### éœå¤«å˜æ¢æ£€æµ‹ç›´çº¿æ®µ #######</span>
<span class="token comment"># Define the Hough transform parameters</span>
<span class="token comment"># Make a blank the same size as our image to draw on</span>
rho <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment"># distance resolution in pixels of the Hough grid</span>
theta <span class="token operator">=</span> np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">180</span> <span class="token comment"># angular resolution in radians of the Hough grid</span>
threshold <span class="token operator">=</span> <span class="token number">1</span>     <span class="token comment"># minimum number of votes (intersections in Hough grid cell)</span>
min_line_length <span class="token operator">=</span> <span class="token number">5</span> <span class="token comment">#minimum number of pixels making up a line</span>
max_line_gap <span class="token operator">=</span> <span class="token number">1</span>    <span class="token comment"># maximum gap in pixels between connectable line segments</span>
line_image <span class="token operator">=</span> np<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0</span> <span class="token comment"># creating a blank to draw lines on</span>

<span class="token comment"># Run Hough on edge detected image</span>
<span class="token comment"># Output &quot;lines&quot; is an array containing endpoints of detected line segments</span>
<span class="token comment"># è¿”å›å€¼æ˜¯å¾—åˆ°çš„éœå¤«å˜æ¢æ£€æµ‹åˆ°çš„ç¬¦åˆæ¡ä»¶çš„çº¿æ®µ</span>
lines <span class="token operator">=</span> cv2<span class="token punctuation">.</span>HoughLinesP<span class="token punctuation">(</span>masked_edges<span class="token punctuation">,</span> rho<span class="token punctuation">,</span> theta<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                            min_line_length<span class="token punctuation">,</span> max_line_gap<span class="token punctuation">)</span>



<span class="token comment"># Iterate over the output &quot;lines&quot; and draw lines on a blank image</span>
<span class="token comment">###### ç»™æ£€æµ‹åˆ°åˆ°çº¿æ®µç€è‰²å¹¶ç»˜åˆ¶åœ¨å›¾åƒä¸Š #######</span>
<span class="token keyword">for</span> line <span class="token keyword">in</span> lines<span class="token punctuation">:</span>
    <span class="token keyword">for</span> x1<span class="token punctuation">,</span>y1<span class="token punctuation">,</span>x2<span class="token punctuation">,</span>y2 <span class="token keyword">in</span> line<span class="token punctuation">:</span>
        cv2<span class="token punctuation">.</span>line<span class="token punctuation">(</span>line_image<span class="token punctuation">,</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span>y1<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>x2<span class="token punctuation">,</span>y2<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>

<span class="token comment"># Create a &quot;color&quot; binary image to combine with line image</span>
color_edges <span class="token operator">=</span> np<span class="token punctuation">.</span>dstack<span class="token punctuation">(</span><span class="token punctuation">(</span>edges<span class="token punctuation">,</span> edges<span class="token punctuation">,</span> edges<span class="token punctuation">)</span><span class="token punctuation">)</span> 

<span class="token comment"># Draw the lines on the edge image</span>
lines_edges <span class="token operator">=</span> cv2<span class="token punctuation">.</span>addWeighted<span class="token punctuation">(</span>color_edges<span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> line_image<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> 

imgs<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;origin&quot;</span><span class="token punctuation">:</span>image<span class="token punctuation">}</span><span class="token punctuation">)</span>
imgs<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;blur_gray&quot;</span><span class="token punctuation">:</span>blur_gray<span class="token punctuation">}</span><span class="token punctuation">)</span>
imgs<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;edges&quot;</span><span class="token punctuation">:</span>edges<span class="token punctuation">}</span><span class="token punctuation">)</span>
imgs<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;mask&quot;</span><span class="token punctuation">:</span>mask<span class="token punctuation">}</span><span class="token punctuation">)</span>
imgs<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;masked_edges&quot;</span><span class="token punctuation">:</span>masked_edges<span class="token punctuation">}</span><span class="token punctuation">)</span>
imgs<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;line_image&quot;</span><span class="token punctuation">:</span>line_image<span class="token punctuation">}</span>

draw_imgs<span class="token punctuation">(</span>imgs<span class="token punctuation">,</span>vertices<span class="token punctuation">)</span>

</code></pre><p><img src="/udacity-self-driving-car-notes/assets/img/15339110799849.5b24a1a3.jpg" alt></p><h2 id="_2-ç›¸å…³åº“å‡½æ•°"><a href="#_2-ç›¸å…³åº“å‡½æ•°" aria-hidden="true" class="header-anchor">#</a> 2.ç›¸å…³åº“å‡½æ•°</h2><h3 id="_1-numpyç›¸å…³å‡½æ•°"><a href="#_1-numpyç›¸å…³å‡½æ•°" aria-hidden="true" class="header-anchor">#</a> 1. numpyç›¸å…³å‡½æ•°</h3><table><thead><tr><th style="text-align:center">åŠŸèƒ½</th><th style="text-align:center">å‡½æ•°</th><th style="text-align:center">ä½¿ç”¨</th></tr></thead><tbody><tr><td style="text-align:center">å¤šè¾¹å½¢æ‹Ÿåˆ</td><td style="text-align:center"><a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.polyfit.html" target="_blank" rel="noopener noreferrer">numpy.polyfit</a></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">æ·±åº¦æ–¹å‘å åŠ çŸ©é˜µ</td><td style="text-align:center"><a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.dstack.html" target="_blank" rel="noopener noreferrer">numpy.dstack</a></td><td style="text-align:center"></td></tr></tbody></table><h3 id="_2-matplotlibç›¸å…³å‡½æ•°"><a href="#_2-matplotlibç›¸å…³å‡½æ•°" aria-hidden="true" class="header-anchor">#</a> 2. matplotlibç›¸å…³å‡½æ•°</h3><table><thead><tr><th style="text-align:center">åŠŸèƒ½</th><th style="text-align:center">å‡½æ•°</th><th style="text-align:center">ä½¿ç”¨</th></tr></thead><tbody><tr><td style="text-align:center">ç»˜åˆ¶å­å›¾</td><td style="text-align:center"><a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.subplot.html#matplotlib.pyplot.subplot" target="_blank" rel="noopener noreferrer">matplotlib.pyplot..subplot</a></td><td style="text-align:center"><code>subplot(nrows, ncols, index, **kwargs)</code></td></tr></tbody></table><pre class="language-python"><code>plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span>fig_size<span class="token punctuation">,</span>fig_size<span class="token punctuation">)</span><span class="token punctuation">,</span>dpi<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># ä¸€å…±ç»˜åˆ¶1è¡Œ2åˆ—å­å›¾ï¼Œè¿™ä¸ªæ˜¯ç¬¬1ä¸ª</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment"># ä¸€å…±ç»˜åˆ¶1è¡Œ2åˆ—å­å›¾ï¼Œè¿™ä¸ªæ˜¯ç¬¬2ä¸ª</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>gray<span class="token punctuation">)</span>
</code></pre><p><img src="/udacity-self-driving-car-notes/assets/img/15338267691227.6c5d7d14.jpg" alt></p><p>https://blog.csdn.net/yuejisuo1948/article/details/81023125</p><h3 id="_3-opencvç›¸å…³å‡½æ•°"><a href="#_3-opencvç›¸å…³å‡½æ•°" aria-hidden="true" class="header-anchor">#</a> 3. opencvç›¸å…³å‡½æ•°</h3><table><thead><tr><th style="text-align:center">åŠŸèƒ½</th><th style="text-align:center">å‡½æ•°</th><th style="text-align:center">ç”¨æ³•</th></tr></thead><tbody><tr><td style="text-align:center">ç»˜åˆ¶çº¿æ¡</td><td style="text-align:center"><a href="https://docs.opencv.org/3.0-beta/modules/imgproc/doc/drawing_functions.html?highlight=line#cv2.line" target="_blank" rel="noopener noreferrer">cv2.line</a></td><td style="text-align:center"><code>cv2.line(img, pt1, pt2, color[, thickness[, lineType[, shift]]]) â†’ img</code></td></tr><tr><td style="text-align:center">ç»˜åˆ¶å¤šè¾¹å½¢</td><td style="text-align:center"><a href="https://docs.opencv.org/3.0-beta/modules/imgproc/doc/drawing_functions.html?highlight=cv2.fillpoly#cv2.fillPoly" target="_blank" rel="noopener noreferrer">cv2.fillPoly</a></td><td style="text-align:center"><code>cv2.fillPoly(img, pts, color[, lineType[, shift[, offset]]]) â†’ img</code></td></tr><tr><td style="text-align:center">æŒ‰ä½ä¸ï¼Œå³åº”ç”¨ä¸€ä¸ªmaskåˆ°ç›®æ ‡å›¾åƒ</td><td style="text-align:center"><a href="https://docs.opencv.org/3.0-beta/modules/core/doc/operations_on_arrays.html?highlight=bitwise_and#cv2.bitwise_and" target="_blank" rel="noopener noreferrer">cv2.bitwise_and</a></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">éœå¤«ç›´çº¿æ£€æµ‹</td><td style="text-align:center"><a href="https://docs.opencv.org/3.0-beta/modules/imgproc/doc/feature_detection.html?highlight=cv2.houghlinesp#cv2.HoughLinesP" target="_blank" rel="noopener noreferrer">cv2.HoughLinesP</a></td><td style="text-align:center"></td></tr></tbody></table><p>cv2.inRange() for color selection
cv2.fillPoly() for regions selection
cv2.line() to draw lines on an image given endpoints
cv2.addWeighted() to coadd / overlay two images cv2.cvtColor() to grayscale or change color cv2.imwrite() to output images to file
cv2.bitwise_and() to apply a mask to an image</p><p>å›¾ç‰‡ç¼©æ”¾</p><pre class="language-text"><code>def save_image(filename,img):
    size = img.shape
    print(size)
    img2save = cv2.resize(img,(size[1]//2,size[0]//2),cv2.INTER_LINEAR)
    print(img2save.shape)
    plt.imsave(&quot;./examples/{0}.jpg&quot;.format(filename),img2save)
</code></pre><p>plotè½¬æ¢ä¸ºå›¾ç‰‡</p><p>å­å›¾</p><pre class="language-python"><code>
<span class="token keyword">def</span> <span class="token function">draw_poly</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span>img<span class="token punctuation">,</span>vertices<span class="token punctuation">)</span><span class="token punctuation">:</span>
    fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
    x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> vertices<span class="token punctuation">:</span>
        <span class="token keyword">for</span> xx<span class="token punctuation">,</span>yy <span class="token keyword">in</span> v<span class="token punctuation">:</span>
            x<span class="token punctuation">.</span>append<span class="token punctuation">(</span>xx<span class="token punctuation">)</span>
            y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>yy<span class="token punctuation">)</span>
            plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>xx<span class="token punctuation">,</span>yy<span class="token punctuation">,</span><span class="token string">'.'</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span>markersize<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span>
            note_point <span class="token operator">=</span> <span class="token string">&quot;({0},{1})&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>xx<span class="token punctuation">,</span>yy<span class="token punctuation">)</span>
            plt<span class="token punctuation">.</span>annotate<span class="token punctuation">(</span>note_point<span class="token punctuation">,</span>xy<span class="token operator">=</span><span class="token punctuation">(</span>xx<span class="token punctuation">,</span>yy<span class="token punctuation">)</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span>
            
    x<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>y<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token string">'b--'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img<span class="token punctuation">)</span>
    <span class="token comment">#print(help(poly_img))</span>
    fig<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">&quot;./examples/{0}.jpg&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">#ax = plt.gca()</span>
    <span class="token comment">#ax.invert_yaxis() </span>
</code></pre><pre class="language-text"><code>f, ((ax1, ax2) ,(ax3,ax4)) = plt.subplots(2, 2, figsize=(24, 9))
f.tight_layout()
ax1.imshow(image)
ax1.set_title('Original Image', fontsize=50)
ax3.imshow(grad_binary_x, cmap='gray')
ax3.set_title('Thresholded Gradient', fontsize=50)
plt.subplots_adjust(left=0., right=1, top=1.5, bottom=0.)
ax4.imshow(grad_binary_y, cmap='gray')
ax4.set_title('Thresholded Gradient', fontsize=50)
plt.subplots_adjust(left=0., right=1, top=1.5, bottom=0.)
</code></pre><p>dpi</p><h2 id="_3-å›¾åƒçŸ©é˜µåŠmask"><a href="#_3-å›¾åƒçŸ©é˜µåŠmask" aria-hidden="true" class="header-anchor">#</a> 3.å›¾åƒçŸ©é˜µåŠmask</h2><h2 id="_4-éœå¤«å˜æ¢"><a href="#_4-éœå¤«å˜æ¢" aria-hidden="true" class="header-anchor">#</a> 4. éœå¤«å˜æ¢</h2><h3 id="_1-éœå¤«å˜æ¢"><a href="#_1-éœå¤«å˜æ¢" aria-hidden="true" class="header-anchor">#</a> 1.éœå¤«å˜æ¢</h3><p>é˜…è¯»ææ–™2æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„äº†è§£éœå¤«å˜æ¢çš„èµ„æ–™ã€‚åœ¨æ­¤åšä¸€äº›æ€»ç»“ã€‚</p><h4 id="_1-æ–œç‡-æˆªè·ç©ºé—´"><a href="#_1-æ–œç‡-æˆªè·ç©ºé—´" aria-hidden="true" class="header-anchor">#</a> 1. æ–œç‡-æˆªè·ç©ºé—´</h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨å›¾åƒç©ºé—´ä¸­ï¼Œæ‰¾åˆ°ä¸¤ä¸ªç«¯ç‚¹ (ğ‘¥1,ğ‘¦1) å’Œ (ğ‘¥2,ğ‘¦2)ï¼Œå®ƒä»¬æ˜¯å¯ä»¥æ„æˆä¸€æ¡ç›´çº¿çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å…ˆä¸å»ç®¡é€šè¿‡å®ƒä»¬çš„ç›´çº¿ï¼Œä½†çœ‹æ¯ä¸€ä¸ªç‚¹ï¼Œéƒ½æœ‰æ— é™ä¸ªç›´çº¿ï¼Œä»¥ä¸åŒçš„æ–œç‡må’Œæˆªè·bï¼Œé€šè¿‡è¿™ä¸ªç‚¹ã€‚</p><p><img src="/udacity-self-driving-car-notes/assets/img/15338211284672.3da117c4.jpg" alt></p><p>æˆ‘ä»¬æŠŠy=mx+bå˜æ¢æˆb=y-mxä¹‹åï¼Œå®é™…ä¸Šå¯ä»¥å°†è¿™æŸä¸ªç›´çº¿å˜æ¢åˆ°ä¸€ä¸ªä»¥bå’Œmåšå‚æ•°çš„ç©ºé—´ä¸­ï¼Œæ­¤æ—¶ï¼Œå›¾åƒç©ºé—´ä¸­çš„ä¸€æ¡å›ºå®šç›´çº¿ï¼Œå› å…¶bå’Œmæ˜¯å®šå€¼ï¼Œæ‰€ä»¥åœ¨m-bç©ºé—´ä¸­æ˜¯ä¸€ä¸ªç‚¹(m,b)ã€‚
ç±»ä¼¼çš„ï¼Œå›¾åƒç©ºé—´ä¸­çš„æŸä¸ªç‚¹(ğ‘¥1,ğ‘¦1) ï¼Œå› å…¶bå’Œmç¬¦åˆb=y-mxæ–¹ç¨‹ï¼Œå› æ­¤åœ¨m-bç©ºé—´ä¸­æ˜¯ä¸€æ¡ç›´çº¿ã€‚</p><p>è¿™æ—¶æˆ‘ä»¬å†çœ‹ä¹‹å‰ç©¿è¿‡ (ğ‘¥1,ğ‘¦1) å’Œ (ğ‘¥2,ğ‘¦2)çš„ç›´çº¿ï¼Œè¿™æ¡ç›´çº¿ä¸Šçš„æ‰€æœ‰çš„ç‚¹ï¼Œå…¶æ–œç‡å’Œæˆªè·éƒ½æ˜¯må’Œbï¼Œå› æ­¤è¿™ä¸ªç›´çº¿ä¸Šçš„æ‰€æœ‰çš„ç‚¹ï¼Œåœ¨m-bç©ºé—´ä¸­éƒ½ç»è¿‡ç‚¹(m,b)ã€‚</p><p>æ¯å½“æˆ‘ä»¬æ‰¾åˆ°ç«¯ç‚¹ä¸º (ğ‘¥1,ğ‘¦1) å’Œ (ğ‘¥2,ğ‘¦2)çš„ä¸€æ¡ç›´çº¿ä¸Šçš„ç‚¹ï¼Œmbç©ºé—´ä¸­çš„ç‚¹(m,b)å°±ä¼šè¢«ä¸€æ¡ç›´çº¿ç»è¿‡ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>vote</strong>ï¼Œå› æ­¤ï¼Œvoteè¶Šå¤šï¼Œè¯´æ˜æˆ‘ä»¬åœ¨ (ğ‘¥1,ğ‘¦1) å’Œ (ğ‘¥2,ğ‘¦2)ä¸Šæ‰¾åˆ°çš„çº¿æ®µè¶Šå¤šï¼Œè¶Šå¯èƒ½æ˜¯ç›´çº¿ã€‚</p><h4 id="_2-æåæ ‡ç©ºé—´"><a href="#_2-æåæ ‡ç©ºé—´" aria-hidden="true" class="header-anchor">#</a> 2. æåæ ‡ç©ºé—´</h4><p>ä¸Šè¿°m-bç©ºé—´æœ€å¤§çš„é—®é¢˜æ˜¯ï¼Œæˆªè·å¯èƒ½ä¼šæ˜¯æ— ç©·ï¼Œè¿™æ ·åœ¨m-bç©ºé—´ä¸Šå°±æ‰¾ä¸åˆ°ç‚¹(m,b)äº†ã€‚
å› æ­¤å¼•å…¥æåæ ‡ç©ºé—´ã€‚
<img src="/udacity-self-driving-car-notes/assets/img/15338221454689.aa2b13fa.jpg" alt></p><pre class="language-text"><code>Ï = x cos Î¸ + y sin Î¸

where:
Ï (rho) = distance from origin to the line. [-max_dist to max_dist].
          max_dist is the diagonal length of the image.  
Î¸ = angle from origin to the line. [-90Â° to 90Â°]
</code></pre><p>å˜æ¢åˆ°éœå¤«ç©ºé—´ä¸­çš„æ—¶å€™ï¼ŒåŸå›¾åƒä¸­çš„ç‚¹ï¼Œå˜æ¢ä¸ºæ›²çº¿ï¼ŒåŸå›¾åƒä¸­çš„ç›´çº¿ï¼Œå˜æ¢ä¸ºç‚¹ã€‚å› æ­¤ä¸¤æ¡æ›²çº¿çš„ç„¦ç‚¹å°±è¡¨ç¤ºæ‰¾åˆ°äº†è¿‡è¿™ä¸¤ä¸ªç‚¹çš„ä¸€æ¡ç›´çº¿ã€‚
<img src="/udacity-self-driving-car-notes/assets/img/15338223834947.a3085e41.jpg" alt></p><p>åŒæ ·ï¼Œè¶Šå¤šçš„ç›´çº¿ç»è¿‡è¿™ä¸¤ç‚¹ï¼Œéœå¤«ç©ºé—´ä¸­çš„æ›²çº¿ç„¦ç‚¹è¢«ç›¸äº¤çš„æ¬¡æ•°è¶Šå¤šï¼Œvoteæ¬¡æ•°ä¹Ÿè¶Šå¤šã€‚</p><p>æˆ‘ä»¬åœ¨å®é™…çš„è¿ç”¨ä¸­ï¼Œå¯ä»¥è®¾å®šä¸€ä¸ªé˜ˆå€¼ï¼Œç›¸äº¤ç‚¹è¢«voteçš„æ¬¡æ•°ä¸º5ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å›¾åƒç©ºé—´ä¸¤ä¸ªç«¯ç‚¹ (ğ‘¥1,ğ‘¦1) å’Œ (ğ‘¥2,ğ‘¦2)ï¼Œè¿æˆçš„ç›´çº¿ä¸Šï¼Œæˆ‘ä»¬è‡³å°‘è¿˜èƒ½æ‰¾åˆ°å…¶ä»–5ä¸ªç‚¹ç»„æˆçš„çº¿æ®µã€‚</p><pre><code>rho = 1 # distance resolution in pixels of the Hough grid
theta = np.pi/180 # angular resolution in radians of the Hough grid
threshold = 100   #è¿™ä¸ªå€¼è¶Šå¤§ï¼Œè¢«æ£€æµ‹åˆ°çš„ç›´çº¿æ®µè¶Šå°‘ï¼Œæœ‰å¯èƒ½æ£€æµ‹ä¸åˆ° 
min_line_len = 50 #minimum number of pixels making up a line
max_line_gap = 100    # maximum gap in pixels between connectable line segments
line_img,lines = hough_lines(masked_edges, rho, theta, threshold, min_line_len, max_line_gap)
</code></pre><div class="warning custom-block"><p class="custom-block-title">TODO</p><p>ç»˜å›¾æè¿°</p></div><div class="tip custom-block"><p class="custom-block-title">é˜…è¯»ææ–™</p><ol><li><a href="https://www.cnblogs.com/cheermyang/p/5348820.html" target="_blank" rel="noopener noreferrer">éœå¤«å˜æ¢--ç›´çº¿æ£€æµ‹--æ‰«æè½¯ä»¶å¦‚ä½•æ£€æµ‹çº¸å¼ è¾¹ç¼˜</a></li><li><a href="https://alyssaq.github.io/2014/understanding-hough-transform/" target="_blank" rel="noopener noreferrer">Understanding Hough Transform With Python</a></li></ol></div><h2 id="_5-è¾¹ç¼˜æ£€æµ‹ä¹‹canny"><a href="#_5-è¾¹ç¼˜æ£€æµ‹ä¹‹canny" aria-hidden="true" class="header-anchor">#</a> 5. è¾¹ç¼˜æ£€æµ‹ä¹‹Canny</h2><p>https://blog.csdn.net/wishchin/article/details/50969322</p><div class="tip custom-block"><p class="custom-block-title">é˜…è¯»ææ–™</p><ol><li><a href="https://www.cnblogs.com/techyan1990/p/7291771.html" target="_blank" rel="noopener noreferrer">è¾¹ç¼˜æ£€æµ‹ä¹‹Canny</a></li></ol></div><hr><div class="tip custom-block"><p class="custom-block-title">æ‰©å±•é˜…è¯»</p><ol><li><a href="https://selfdrivingcars.mit.edu/" target="_blank" rel="noopener noreferrer">MIT æ— äººè½¦è¯¾ç¨‹</a></li><li><a href="https://baike.baidu.com/item/Apex/10532507?fr=aladdin" target="_blank" rel="noopener noreferrer">apexè¿‡å¼¯ä¸­å¿ƒç‚¹</a></li><li><a href="https://cn.udacity.com/course/introduction-to-computer-vision--ud810" target="_blank" rel="noopener noreferrer">è®¡ç®—æœºè§†è§‰æ¦‚è®º</a></li></ol></div></div><div class="content edit-link"><a href="https://github.com/hanxiaomax/udacity-self-driving-car-notes/edit/master/package/posts/self-driving-car/find-lane-line.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="content page-nav"><p class="inner"><!----><span class="next"><a href="/udacity-self-driving-car-notes/posts/self-driving-car/camera.html">
          ç›¸æœºæ ‡å®š
        </a> â†’
      </span></p></div></div></div></div>
    <script src="/udacity-self-driving-car-notes/assets/js/10.6dceeebb.js" defer></script><script src="/udacity-self-driving-car-notes/assets/js/app.f862d195.js" defer></script>
  </body>
</html>
