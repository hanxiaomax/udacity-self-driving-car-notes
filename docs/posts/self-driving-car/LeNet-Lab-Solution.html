<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>智能驾驶学习笔记 | LeNet Lab Solution</title>
    <meta name="description" content="by Lingfeng Ai">
    <link rel="icon" href="/udacity-self-driving-car-notes/logo.png">
  <link rel="manifest" href="/udacity-self-driving-car-notes/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/udacity-self-driving-car-notes/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/udacity-self-driving-car-notes/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/udacity-self-driving-car-notes/assets/css/40.styles.8bccc68c.css" as="style"><link rel="preload" href="/udacity-self-driving-car-notes/assets/js/app.f862d195.js" as="script"><link rel="preload" href="/udacity-self-driving-car-notes/assets/js/19.21a7c6ad.js" as="script"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/0.a91770da.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/1.bf802ebd.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/2.9fcb0b63.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/3.04252e9b.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/4.58f7cc53.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/5.fbc900e9.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/6.eb545374.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/7.9389e4d4.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/8.ca6e42ad.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/9.951d4fff.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/10.6dceeebb.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/11.8b31e96d.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/12.47bd8573.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/13.01fa8388.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/14.5145a23d.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/15.a6c9c7ea.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/16.c8a59787.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/17.ef253f55.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/18.60236610.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/20.631b7e3b.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/21.4ea4e658.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/22.24b95f64.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/23.20d37bd2.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/24.16e76604.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/25.ded15832.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/26.698b1477.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/27.dd2fff6b.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/28.60a3bb90.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/29.32a5d2dc.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/30.e686195c.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/31.182bda29.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/32.72fbf8ad.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/33.1b4a0149.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/34.12748df4.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/35.4a1138f6.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/36.9e421a98.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/37.803fd82e.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/38.0a53c283.js"><link rel="prefetch" href="/udacity-self-driving-car-notes/assets/js/39.aab83370.js">
    <link rel="stylesheet" href="/udacity-self-driving-car-notes/assets/css/40.styles.8bccc68c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/udacity-self-driving-car-notes/" class="home-link router-link-active"><!----><span class="site-name">
      智能驾驶学习笔记
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/udacity-self-driving-car-notes/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">笔记</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/intro-self-driving-car/" class="nav-link">无人驾驶入门</a></li><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/self-driving-car/" class="nav-link router-link-active">无人驾驶工程师</a></li><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/others/" class="nav-link">未归类</a></li></ul></div></div><div class="nav-item"><a href="/udacity-self-driving-car-notes/res/" class="nav-link">资源</a></div><div class="nav-item"><a href="/udacity-self-driving-car-notes/contact/" class="nav-link">联系</a></div><a href="https://github.com/hanxiaomax/udacity-self-driving-car-notes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/udacity-self-driving-car-notes/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">笔记</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/intro-self-driving-car/" class="nav-link">无人驾驶入门</a></li><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/self-driving-car/" class="nav-link router-link-active">无人驾驶工程师</a></li><li class="dropdown-item"><!----><a href="/udacity-self-driving-car-notes/posts/others/" class="nav-link">未归类</a></li></ul></div></div><div class="nav-item"><a href="/udacity-self-driving-car-notes/res/" class="nav-link">资源</a></div><div class="nav-item"><a href="/udacity-self-driving-car-notes/contact/" class="nav-link">联系</a></div><a href="https://github.com/hanxiaomax/udacity-self-driving-car-notes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>1. 计算机视觉基础</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/udacity-self-driving-car-notes/posts/self-driving-car/find-lane-line.html" class="sidebar-link">车道线检测</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2. 计算机视觉进阶</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>3. 深度学习</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>4. tersorflow</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>5. 卷积神经网络</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>6. 基于LeNet的信号灯分类</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>7. Keras</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>8. 迁移学习</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>9. 卡尔曼滤波</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="lenet-lab-solution"><a href="#lenet-lab-solution" aria-hidden="true" class="header-anchor">#</a> LeNet Lab Solution</h1><p><img src="lenet.png" alt="LeNet Architecture">
Source: Yan LeCun</p><h2 id="load-data"><a href="#load-data" aria-hidden="true" class="header-anchor">#</a> Load Data</h2><p>Load the MNIST data, which comes pre-loaded with TensorFlow.</p><p>You do not need to modify this section.</p><pre class="language-python"><code><span class="token keyword">from</span> tensorflow<span class="token punctuation">.</span>examples<span class="token punctuation">.</span>tutorials<span class="token punctuation">.</span>mnist <span class="token keyword">import</span> input_data

mnist <span class="token operator">=</span> input_data<span class="token punctuation">.</span>read_data_sets<span class="token punctuation">(</span><span class="token string">&quot;MNIST_data/&quot;</span><span class="token punctuation">,</span> reshape<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
X_train<span class="token punctuation">,</span> y_train           <span class="token operator">=</span> mnist<span class="token punctuation">.</span>train<span class="token punctuation">.</span>images<span class="token punctuation">,</span> mnist<span class="token punctuation">.</span>train<span class="token punctuation">.</span>labels
X_validation<span class="token punctuation">,</span> y_validation <span class="token operator">=</span> mnist<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>images<span class="token punctuation">,</span> mnist<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>labels
X_test<span class="token punctuation">,</span> y_test             <span class="token operator">=</span> mnist<span class="token punctuation">.</span>test<span class="token punctuation">.</span>images<span class="token punctuation">,</span> mnist<span class="token punctuation">.</span>test<span class="token punctuation">.</span>labels

<span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>X_train<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>y_train<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>X_validation<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>y_validation<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>X_test<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>y_test<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Image Shape: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>X_train<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shape<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Training Set:   {} samples&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>X_train<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Validation Set: {} samples&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>X_validation<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Test Set:       {} samples&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>X_test<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><p>The MNIST data that TensorFlow pre-loads comes as 28x28x1 images.</p><p>However, the LeNet architecture only accepts 32x32xC images, where C is the number of color channels.</p><p>In order to reformat the MNIST data into a shape that LeNet will accept, we pad the data with two rows of zeros on the top and bottom, and two columns of zeros on the left and right (28+2+2 = 32).</p><p>You do not need to modify this section.</p><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

<span class="token comment"># Pad images with 0s</span>
X_train      <span class="token operator">=</span> np<span class="token punctuation">.</span>pad<span class="token punctuation">(</span>X_train<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'constant'</span><span class="token punctuation">)</span>
X_validation <span class="token operator">=</span> np<span class="token punctuation">.</span>pad<span class="token punctuation">(</span>X_validation<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'constant'</span><span class="token punctuation">)</span>
X_test       <span class="token operator">=</span> np<span class="token punctuation">.</span>pad<span class="token punctuation">(</span>X_test<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'constant'</span><span class="token punctuation">)</span>
    
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Updated Image Shape: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>X_train<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shape<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><h2 id="visualize-data"><a href="#visualize-data" aria-hidden="true" class="header-anchor">#</a> Visualize Data</h2><p>View a sample from the dataset.</p><p>You do not need to modify this section.</p><pre class="language-python"><code><span class="token keyword">import</span> random
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token operator">%</span>matplotlib inline

index <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>X_train<span class="token punctuation">)</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> X_train<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>squeeze<span class="token punctuation">(</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">&quot;gray&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>y_train<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><h2 id="preprocess-data"><a href="#preprocess-data" aria-hidden="true" class="header-anchor">#</a> Preprocess Data</h2><p>Shuffle the training data.</p><p>You do not need to modify this section.</p><pre class="language-python"><code><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>utils <span class="token keyword">import</span> shuffle

X_train<span class="token punctuation">,</span> y_train <span class="token operator">=</span> shuffle<span class="token punctuation">(</span>X_train<span class="token punctuation">,</span> y_train<span class="token punctuation">)</span>
</code></pre><h2 id="setup-tensorflow"><a href="#setup-tensorflow" aria-hidden="true" class="header-anchor">#</a> Setup TensorFlow</h2><p>The <code>EPOCH</code> and <code>BATCH_SIZE</code> values affect the training speed and model accuracy.</p><p>You do not need to modify this section.</p><pre class="language-python"><code><span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf

EPOCHS <span class="token operator">=</span> <span class="token number">10</span>
BATCH_SIZE <span class="token operator">=</span> <span class="token number">128</span>
</code></pre><h2 id="solution-implement-lenet-5"><a href="#solution-implement-lenet-5" aria-hidden="true" class="header-anchor">#</a> SOLUTION: Implement LeNet-5</h2><p>Implement the <a href="http://yann.lecun.com/exdb/lenet/" target="_blank" rel="noopener noreferrer">LeNet-5</a> neural network architecture.</p><p>This is the only cell you need to edit.</p><h3 id="input"><a href="#input" aria-hidden="true" class="header-anchor">#</a> Input</h3><p>The LeNet architecture accepts a 32x32xC image as input, where C is the number of color channels. Since MNIST images are grayscale, C is 1 in this case.</p><h3 id="architecture"><a href="#architecture" aria-hidden="true" class="header-anchor">#</a> Architecture</h3><p><strong>Layer 1: Convolutional.</strong> The output shape should be 28x28x6.</p><p><strong>Activation.</strong> Your choice of activation function.</p><p><strong>Pooling.</strong> The output shape should be 14x14x6.</p><p><strong>Layer 2: Convolutional.</strong> The output shape should be 10x10x16.</p><p><strong>Activation.</strong> Your choice of activation function.</p><p><strong>Pooling.</strong> The output shape should be 5x5x16.</p><p><strong>Flatten.</strong> Flatten the output shape of the final pooling layer such that it's 1D instead of 3D. The easiest way to do is by using <code>tf.contrib.layers.flatten</code>, which is already imported for you.</p><p><strong>Layer 3: Fully Connected.</strong> This should have 120 outputs.</p><p><strong>Activation.</strong> Your choice of activation function.</p><p><strong>Layer 4: Fully Connected.</strong> This should have 84 outputs.</p><p><strong>Activation.</strong> Your choice of activation function.</p><p><strong>Layer 5: Fully Connected (Logits).</strong> This should have 10 outputs.</p><h3 id="output"><a href="#output" aria-hidden="true" class="header-anchor">#</a> Output</h3><p>Return the result of the 2nd fully connected layer.</p><pre class="language-python"><code><span class="token keyword">from</span> tensorflow<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>layers <span class="token keyword">import</span> flatten

<span class="token keyword">def</span> <span class="token function">LeNet</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>    
    <span class="token comment"># Arguments used for tf.truncated_normal, randomly defines variables for the weights and biases for each layer</span>
    mu <span class="token operator">=</span> <span class="token number">0</span>
    sigma <span class="token operator">=</span> <span class="token number">0.1</span>
    
    <span class="token comment"># SOLUTION: Layer 1: Convolutional. Input = 32x32x1. Output = 28x28x6.</span>
    
    <span class="token comment"># 初始化权重：5*5大小的过滤器，输入深度为1，输出深度为 6</span>
    conv1_W <span class="token operator">=</span> tf<span class="token punctuation">.</span>Variable<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>truncated_normal<span class="token punctuation">(</span>shape<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> mean <span class="token operator">=</span> mu<span class="token punctuation">,</span> stddev <span class="token operator">=</span> sigma<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 初始化偏差，输出深度为 6</span>
    conv1_b <span class="token operator">=</span> tf<span class="token punctuation">.</span>Variable<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 卷积 ：输出维度依照卷积公式计算（H_out = [(H-F+2P)/S]）</span>
    <span class="token comment"># https://www.cnblogs.com/qggg/p/6832342.html</span>
    conv1   <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>x<span class="token punctuation">,</span> conv1_W<span class="token punctuation">,</span> strides<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'VALID'</span><span class="token punctuation">)</span> <span class="token operator">+</span> conv1_b

    <span class="token comment"># SOLUTION: Activation.</span>
    conv1 <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">(</span>conv1<span class="token punctuation">)</span>

    <span class="token comment"># SOLUTION: Pooling. Input = 28x28x6. Output = 14x14x6.</span>
    conv1 <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>max_pool<span class="token punctuation">(</span>conv1<span class="token punctuation">,</span> ksize<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> strides<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'VALID'</span><span class="token punctuation">)</span>

    <span class="token comment"># SOLUTION: Layer 2: Convolutional. Output = 10x10x16.</span>
    conv2_W <span class="token operator">=</span> tf<span class="token punctuation">.</span>Variable<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>truncated_normal<span class="token punctuation">(</span>shape<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> mean <span class="token operator">=</span> mu<span class="token punctuation">,</span> stddev <span class="token operator">=</span> sigma<span class="token punctuation">)</span><span class="token punctuation">)</span>
    conv2_b <span class="token operator">=</span> tf<span class="token punctuation">.</span>Variable<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    conv2   <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>conv1<span class="token punctuation">,</span> conv2_W<span class="token punctuation">,</span> strides<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'VALID'</span><span class="token punctuation">)</span> <span class="token operator">+</span> conv2_b
    
    <span class="token comment"># SOLUTION: Activation.</span>
    conv2 <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">(</span>conv2<span class="token punctuation">)</span>

    <span class="token comment"># SOLUTION: Pooling. Input = 10x10x16. Output = 5x5x16.</span>
    conv2 <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>max_pool<span class="token punctuation">(</span>conv2<span class="token punctuation">,</span> ksize<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> strides<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'VALID'</span><span class="token punctuation">)</span>

    <span class="token comment"># SOLUTION: Flatten. Input = 5x5x16. Output = 400.</span>
fc0   <span class="token operator">=</span> flatten<span class="token punctuation">(</span>conv2<span class="token punctuation">)</span>
    
    <span class="token comment"># SOLUTION: Layer 3: Fully Connected. Input = 400. Output = 120.</span>
    fc1_W <span class="token operator">=</span> tf<span class="token punctuation">.</span>Variable<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>truncated_normal<span class="token punctuation">(</span>shape<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">,</span> mean <span class="token operator">=</span> mu<span class="token punctuation">,</span> stddev <span class="token operator">=</span> sigma<span class="token punctuation">)</span><span class="token punctuation">)</span>
    fc1_b <span class="token operator">=</span> tf<span class="token punctuation">.</span>Variable<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fc1   <span class="token operator">=</span> tf<span class="token punctuation">.</span>matmul<span class="token punctuation">(</span>fc0<span class="token punctuation">,</span> fc1_W<span class="token punctuation">)</span> <span class="token operator">+</span> fc1_b
    
    <span class="token comment"># SOLUTION: Activation.</span>
    fc1    <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">(</span>fc1<span class="token punctuation">)</span>

    <span class="token comment"># SOLUTION: Layer 4: Fully Connected. Input = 120. Output = 84.</span>
    fc2_W  <span class="token operator">=</span> tf<span class="token punctuation">.</span>Variable<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>truncated_normal<span class="token punctuation">(</span>shape<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">84</span><span class="token punctuation">)</span><span class="token punctuation">,</span> mean <span class="token operator">=</span> mu<span class="token punctuation">,</span> stddev <span class="token operator">=</span> sigma<span class="token punctuation">)</span><span class="token punctuation">)</span>
    fc2_b  <span class="token operator">=</span> tf<span class="token punctuation">.</span>Variable<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">84</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fc2    <span class="token operator">=</span> tf<span class="token punctuation">.</span>matmul<span class="token punctuation">(</span>fc1<span class="token punctuation">,</span> fc2_W<span class="token punctuation">)</span> <span class="token operator">+</span> fc2_b
    
    <span class="token comment"># SOLUTION: Activation.</span>
    fc2    <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">(</span>fc2<span class="token punctuation">)</span>

    <span class="token comment"># SOLUTION: Layer 5: Fully Connected. Input = 84. Output = 10.</span>
    fc3_W  <span class="token operator">=</span> tf<span class="token punctuation">.</span>Variable<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>truncated_normal<span class="token punctuation">(</span>shape<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">84</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> mean <span class="token operator">=</span> mu<span class="token punctuation">,</span> stddev <span class="token operator">=</span> sigma<span class="token punctuation">)</span><span class="token punctuation">)</span>
    fc3_b  <span class="token operator">=</span> tf<span class="token punctuation">.</span>Variable<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    logits <span class="token operator">=</span> tf<span class="token punctuation">.</span>matmul<span class="token punctuation">(</span>fc2<span class="token punctuation">,</span> fc3_W<span class="token punctuation">)</span> <span class="token operator">+</span> fc3_b
    
    <span class="token keyword">return</span> logits
</code></pre><h2 id="features-and-labels"><a href="#features-and-labels" aria-hidden="true" class="header-anchor">#</a> Features and Labels</h2><p>Train LeNet to classify <a href="http://yann.lecun.com/exdb/mnist/" target="_blank" rel="noopener noreferrer">MNIST</a> data.</p><p><code>x</code> is a placeholder for a batch of input images.
<code>y</code> is a placeholder for a batch of output labels.</p><p>You do not need to modify this section.</p><pre class="language-python"><code>x <span class="token operator">=</span> tf<span class="token punctuation">.</span>placeholder<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>float32<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#输入</span>
y <span class="token operator">=</span> tf<span class="token punctuation">.</span>placeholder<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>int32<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#label</span>
one_hot_y <span class="token operator">=</span> tf<span class="token punctuation">.</span>one_hot<span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre><h2 id="training-pipeline"><a href="#training-pipeline" aria-hidden="true" class="header-anchor">#</a> Training Pipeline</h2><p>Create a training pipeline that uses the model to classify MNIST data.</p><p>You do not need to modify this section.</p><pre class="language-python"><code>rate <span class="token operator">=</span> <span class="token number">0.001</span>

logits <span class="token operator">=</span> LeNet<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
cross_entropy <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>softmax_cross_entropy_with_logits<span class="token punctuation">(</span>labels<span class="token operator">=</span>one_hot_y<span class="token punctuation">,</span> logits<span class="token operator">=</span>logits<span class="token punctuation">)</span>
loss_operation <span class="token operator">=</span> tf<span class="token punctuation">.</span>reduce_mean<span class="token punctuation">(</span>cross_entropy<span class="token punctuation">)</span>
optimizer <span class="token operator">=</span> tf<span class="token punctuation">.</span>train<span class="token punctuation">.</span>AdamOptimizer<span class="token punctuation">(</span>learning_rate <span class="token operator">=</span> rate<span class="token punctuation">)</span>
training_operation <span class="token operator">=</span> optimizer<span class="token punctuation">.</span>minimize<span class="token punctuation">(</span>loss_operation<span class="token punctuation">)</span>
</code></pre><h2 id="model-evaluation"><a href="#model-evaluation" aria-hidden="true" class="header-anchor">#</a> Model Evaluation</h2><p>Evaluate how well the loss and accuracy of the model for a given dataset.</p><p>You do not need to modify this section.</p><pre class="language-python"><code>correct_prediction <span class="token operator">=</span> tf<span class="token punctuation">.</span>equal<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>argmax<span class="token punctuation">(</span>logits<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tf<span class="token punctuation">.</span>argmax<span class="token punctuation">(</span>one_hot_y<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
accuracy_operation <span class="token operator">=</span> tf<span class="token punctuation">.</span>reduce_mean<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>cast<span class="token punctuation">(</span>correct_prediction<span class="token punctuation">,</span> tf<span class="token punctuation">.</span>float32<span class="token punctuation">)</span><span class="token punctuation">)</span>
saver <span class="token operator">=</span> tf<span class="token punctuation">.</span>train<span class="token punctuation">.</span>Saver<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">evaluate</span><span class="token punctuation">(</span>X_data<span class="token punctuation">,</span> y_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
    num_examples <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>X_data<span class="token punctuation">)</span>
    total_accuracy <span class="token operator">=</span> <span class="token number">0</span>
    sess <span class="token operator">=</span> tf<span class="token punctuation">.</span>get_default_session<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> offset <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> num_examples<span class="token punctuation">,</span> BATCH_SIZE<span class="token punctuation">)</span><span class="token punctuation">:</span>
        batch_x<span class="token punctuation">,</span> batch_y <span class="token operator">=</span> X_data<span class="token punctuation">[</span>offset<span class="token punctuation">:</span>offset<span class="token operator">+</span>BATCH_SIZE<span class="token punctuation">]</span><span class="token punctuation">,</span> y_data<span class="token punctuation">[</span>offset<span class="token punctuation">:</span>offset<span class="token operator">+</span>BATCH_SIZE<span class="token punctuation">]</span>
        accuracy <span class="token operator">=</span> sess<span class="token punctuation">.</span>run<span class="token punctuation">(</span>accuracy_operation<span class="token punctuation">,</span> feed_dict<span class="token operator">=</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span> batch_x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> batch_y<span class="token punctuation">}</span><span class="token punctuation">)</span>
        total_accuracy <span class="token operator">+=</span> <span class="token punctuation">(</span>accuracy <span class="token operator">*</span> <span class="token builtin">len</span><span class="token punctuation">(</span>batch_x<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> total_accuracy <span class="token operator">/</span> num_examples
</code></pre><h2 id="train-the-model"><a href="#train-the-model" aria-hidden="true" class="header-anchor">#</a> Train the Model</h2><p>Run the training data through the training pipeline to train the model.</p><p>Before each epoch, shuffle the training set.</p><p>After each epoch, measure the loss and accuracy of the validation set.</p><p>Save the model after training.</p><p>You do not need to modify this section.</p><pre class="language-python"><code><span class="token keyword">with</span> tf<span class="token punctuation">.</span>Session<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> sess<span class="token punctuation">:</span>
    sess<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>global_variables_initializer<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    num_examples <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>X_train<span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Training...&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>EPOCHS<span class="token punctuation">)</span><span class="token punctuation">:</span>
        X_train<span class="token punctuation">,</span> y_train <span class="token operator">=</span> shuffle<span class="token punctuation">(</span>X_train<span class="token punctuation">,</span> y_train<span class="token punctuation">)</span>
        <span class="token keyword">for</span> offset <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> num_examples<span class="token punctuation">,</span> BATCH_SIZE<span class="token punctuation">)</span><span class="token punctuation">:</span>
            end <span class="token operator">=</span> offset <span class="token operator">+</span> BATCH_SIZE
            batch_x<span class="token punctuation">,</span> batch_y <span class="token operator">=</span> X_train<span class="token punctuation">[</span>offset<span class="token punctuation">:</span>end<span class="token punctuation">]</span><span class="token punctuation">,</span> y_train<span class="token punctuation">[</span>offset<span class="token punctuation">:</span>end<span class="token punctuation">]</span>
            sess<span class="token punctuation">.</span>run<span class="token punctuation">(</span>training_operation<span class="token punctuation">,</span> feed_dict<span class="token operator">=</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span> batch_x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> batch_y<span class="token punctuation">}</span><span class="token punctuation">)</span>
            
        validation_accuracy <span class="token operator">=</span> evaluate<span class="token punctuation">(</span>X_validation<span class="token punctuation">,</span> y_validation<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;EPOCH {} ...&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Validation Accuracy = {:.3f}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>validation_accuracy<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
    saver<span class="token punctuation">.</span>save<span class="token punctuation">(</span>sess<span class="token punctuation">,</span> <span class="token string">'./lenet'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Model saved&quot;</span><span class="token punctuation">)</span>
</code></pre><h2 id="evaluate-the-model"><a href="#evaluate-the-model" aria-hidden="true" class="header-anchor">#</a> Evaluate the Model</h2><p>Once you are completely satisfied with your model, evaluate the performance of the model on the test set.</p><p>Be sure to only do this once!</p><p>If you were to measure the performance of your trained model on the test set, then improve your model, and then measure the performance of your model on the test set again, that would invalidate your test results. You wouldn't get a true measure of how well your model would perform against real data.</p><p>You do not need to modify this section.</p><pre class="language-python"><code><span class="token keyword">with</span> tf<span class="token punctuation">.</span>Session<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> sess<span class="token punctuation">:</span>
    saver<span class="token punctuation">.</span>restore<span class="token punctuation">(</span>sess<span class="token punctuation">,</span> tf<span class="token punctuation">.</span>train<span class="token punctuation">.</span>latest_checkpoint<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    test_accuracy <span class="token operator">=</span> evaluate<span class="token punctuation">(</span>X_test<span class="token punctuation">,</span> y_test<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Test Accuracy = {:.3f}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>test_accuracy<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><div class="content edit-link"><a href="https://github.com/hanxiaomax/udacity-self-driving-car-notes/edit/master/package/posts/self-driving-car/LeNet-Lab-Solution.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div></div></div>
    <script src="/udacity-self-driving-car-notes/assets/js/19.21a7c6ad.js" defer></script><script src="/udacity-self-driving-car-notes/assets/js/app.f862d195.js" defer></script>
  </body>
</html>
